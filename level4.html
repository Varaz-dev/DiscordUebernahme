<script>
    function checkPassword() {
        var password = document.getElementById("password").value;
        if (password === "lichtlfinal") {
            document.getElementById("content").style.display = "block";
            document.getElementById("login").style.display = "none";
            moveBox(); // Bewegung starten, sobald das Passwort korrekt ist!
        } else {
            alert("ACCESS DENIED!");
        }
    }

    let clicks = 0;
    let maxClicks = 6;
    let boxSize = 100;
    let speed = 1500;
    let gameActive = true;  // Variable, um das Spiel zu stoppen

    function getRandomPosition() {
        let maxX = window.innerWidth - boxSize;
        let maxY = window.innerHeight - boxSize;
        let x = Math.random() * maxX;
        let y = Math.random() * maxY;
        return { x, y };
    }

    function moveBox() {
        if (!gameActive) return;  // Falls das Spiel vorbei ist, wird nichts mehr gemacht
        
        let box = document.getElementById("moving-box");
        let pos = getRandomPosition();
        box.style.left = pos.x + "px";
        box.style.top = pos.y + "px";

        setTimeout(() => {
            if (gameActive) moveBox();  // Bewegung nur fortsetzen, wenn das Spiel l√§uft
        }, speed);
    }

    function shrinkAndSpeedUp() {
        if (!gameActive) return;  // Falls das Spiel vorbei ist, wird nichts mehr gemacht

        let box = document.getElementById("moving-box");
        clicks++;
        boxSize *= 0.8;
        speed *= 0.85;

        if (boxSize < 2) boxSize = 2;
        if (speed < 50) speed = 50;

        box.style.width = boxSize + "px";
        box.style.height = boxSize + "px";

        if (clicks >= maxClicks) {
            gameActive = false;  // Stoppt das Spiel
            box.style.display = "none";
            document.getElementById("password-display").style.display = "block";
        }
    }
</script>
